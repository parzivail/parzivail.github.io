---
layout: post
published: false
title: Sony DXC-3000A Camcorder Retrofit - Part 1
subtitle: Shoehorning some modern features into one of Sony's first CCD broadcast video cameras
---

![The DXC-3000A](/assets/images/dxc3000a/header.jpg)

# Background

A late night on the vintage hardware side of eBay a few years ago netted me a Sony DXC-3000A broadcast video camera. Pinning down a release date for this camera is tough, but most of the components inside of it are datestamped 1986 or '87, and that seems to correlate with the first mentions I can find of it online. I didn't really have a plan for it, but I figured it could be fun to tinker with. And, as with all eBay deal rabbit-holes, I eventually ended up with a couple of cameras, lenses, accessories, service manuals, vectorscopes... all, of course, of varying quality.

# Overview

Like other professional equipment of the era, electrically it consists of a backplane with pluggable and servicable modules, each with a different function, and each packed with TTL and analog components. The service manual is also readily available [on archive.org](https://archive.org/details/manual_DXC3000A_SM_SONY_EN/) which is extremely convenient. It contains the expected servicing instructions and block diagrams, but also complete schematics, PCB layouts, and BOMs.

![The DXC-3000A with the side off, showing the modules connected to the backplane](/assets/images/dxc3000a/modules.jpg)

The DXC-3000A is not a camcorder. As a piece of broadcast equipment, it's designed to be used in a studio with a [Camera Control Unit](https://en.wikipedia.org/wiki/Camera_control_unit) (CCU, with a big umbilical cord) or in the field with a portable [Video Tape Recorder (VTR)](https://en.wikipedia.org/wiki/Video_tape_recorder). To this end, it has a big socket with all of the camera control inputs and video outputs. It also has a BNC connector for [genlock](https://en.wikipedia.org/wiki/Genlock) in, and another for [composite video](https://en.wikipedia.org/wiki/Composite_video) out. I think composite video gets somewhat of a bad rap among people who remember it in association with low-bandwidth videotape formats, but a well-driven high-bandwidth composite signal like this one looks remarkably good on a suitable display. On this unit, the lens is nearly 40 years old, and the coatings are breaking down. The image of a cactus below is, of course, also routed through a cheap USB composite capture device. I haven't yet calibrated the camera, but I plan to.

![A captured frame from the composite output, showing a cactus](/assets/images/dxc3000a/composite_capture.jpg){:width="720px"}

Something that the composite signal does a good job of hiding, however, is the fact that this camera has a discrete-pixel [CCD sensor](https://en.wikipedia.org/wiki/Charge-coupled_device) and not a continuously scanned [video tube](https://en.wikipedia.org/wiki/Video_camera_tube). In a way, the frontend is similar to that of a modern CCD/CMOS digital camera, as the pixels are read out sequentially, but the charges for each pixel are processed entirely in the analog domain thereafter.

# EN-39A

Among the modules connected to the backplane is one called the EN-39A. From the block diagram, it's in charge of RGB buffering, [YIQ](https://en.wikipedia.org/wiki/YIQ) matrix amplification, [zebra stripes](https://en.wikipedia.org/wiki/Zebra_patterning), and composite/[S-Video](https://en.wikipedia.org/wiki/S-Video) encoding. Basically, this module is entirely responsible for analog video output.

While reading through the service manual, this module in particular stood out: it takes in composite sync, horizontal sync pulse, vertical sync pulse, and an instantaneous sample of analog RGB pixel data. If this sounds familiar, it's almost electrically equivalent to [VGA](https://en.wikipedia.org/wiki/Video_Graphics_Array). The hitch is that the video is interlaced, and the voltage range is incompatible (~1Vpp with a DC bias). I spent some time tinkering with the idea of a building a replacement module with an ADC, some sort of FPGA or microcontroller, and HDMI output, but finding parts for the 3-channel 24-bit pipeline wasn't cheap for spinning up test boards.

TODO: a picture of a Wii to HDMI adapter, shell and motherboard

A while later, I came across an imported "Wii2HDMI" dongle, which converted the Wii's [component](https://en.wikipedia.org/wiki/Component_video) [YPbPr](https://en.wikipedia.org/wiki/YPbPr) output to HDMI. The converter board was extremely sparse, so I tracked down the chipset: a [Macro Silicon MS9288A](http://en.macrosilicon.com/info.asp?base_id=2&third_id=16). It claimed to support RGB video and has a separate input for Sync on Green, which conveniently is a separate input to the EN-39A board, but didn't mention how it differentiated RGB video from YPbPr. I replaced the Wii's video connector with some jumper wire and connected it to the inputs on the EN-39A.

TODO: a picture of the bad wii2hdmi result

Hmm. With my personal email, I spoke back and forth with someone at Macro Silicon, who was unfortunately tight-lipped about details and understandably unwilling to troubleshoot. I guess it looks for the presence of H/V sync to deduce RGB video. I tried again through my business email and got better results: I was able to get a datasheet and an SDK for a related chip, the [MS9282](http://en.macrosilicon.com/info.asp?base_id=2&third_id=3), which was supposedly higher quality but less self-contained, requiring I2C control. The kicker? It supported Sync on Green for RGB 480i video. It also was available at LCSC for cheap in small quantities. Dreams returned of replacing the analog encoder with a digital encoder... I was tentatively excited, so I had to know if it could work.

# Analog to Digital Conversion

TODO: a picture of the MS9282 dev board, schematic?

A few hours in KiCad, a few weeks waiting for JLCPCB, and I had some MS9282 breakout boards. I spent some time implementing the HAL for their SDK to target the RP2040 and gave it a shot. All it took was connecting the RGB inputs to the RGB bus from the EN-39A's backplane connector, and passing the backplane's composite sync signal off as Sync on Green. For this test I didn't even bother to buffer the RGB inputs, hoping that the signal levels would just work out after AC coupling.

TODO: a picture of the bare MS9282 output

Lucky guess! It looked like this might work out after all. I spun another board with the original driving components (the peculiar 2SC3326 transistor) and a breakout board with FPC connectors for the major backplane signals. It didn't visually change the image quality (I suspect the input conditioning of the MS9282 is to thank), but it felt less creepy.

TODO: a picture of the breakout setup at this point, schematic?

Feeling comfortable with that setup, I merged it into yet another PCB, this time with a spot for a [Feather RP2040](https://www.adafruit.com/product/4884) and room for an HDMI cable with cable-tie anchors.

TODO: a picture of the final board, schematic?

For now I routed the HDMI cable through the battery compartment. The MS9828 correctly sorts out the composite sync signal from the backplane and sorts the pixels into the right fields, which is great. Finding a monitor or even TV around that supported the somewhat oddball 480i resolution was a challenge, and in the end I used a Blackmagic DeckLink Mini capture card, which didn't list that format as supported in the manual, but seems to record it fine. The resulting video might not be broadcast-quality by today's standards (it is 24-bit color, after all) but I think it's a noticable improvement over composite or even S-Video for bright, noisy scenes.

TODO: example images

The final board has a few extra headers that I haven't mentioned previously: output video, viewfinder video, return video, subcarrier phase, horizontal phase, and earphone out. Naturally, the EN-39A was responsible for a little bit more than I initially understood. A big one is that it controls the video feed in the viewfinder, so to continue supporting those features, I added expansion headers to add more hardware later.

Where will that hardware live? Probably in the battery compartment: stay tuned for Part 2, where I discuss the Raspberry Pi-based HDMI capture setup that lives in the battery compartment, which is the final and ongoing piece of the camcorder puzzle.

# Appendix

## KiCad files

TODO: github links

## Connectors

- The CCU connector mates with a Hirose JRC16BP-14P(71).
- The lens connector mates with a Hirose HR10A-7P-6P(73).
- The backplane mates with a Hirose PCN10A-50P-2.54DS(72).

## Spectrograms

All filters were measured with a Shimadzu UV-160 (hopefully the subject of a future post!), and the thermal prints scanned.

### IR-cut filter

An infrared lowpass filter sits between the lens and the filter wheel:

![The transmittance of the IR cut filter](/assets/images/dxc3000a/ir_cut_transmittance.jpg)

### Filter wheel

A filter wheel sits between the IR-cut filter and the CCD, with three options:

1. 3200K (effectively transparent)

   ![The transmittance of Filter 1](/assets/images/dxc3000a/filter_1_transmittance.jpg){:width="512px"}

2. 5600K with a 1/8 [ND filter](https://en.wikipedia.org/wiki/Neutral-density_filter)

   ![The transmittance of Filter 2](/assets/images/dxc3000a/filter_2_transmittance.jpg){:width="512px"}

3. 5600K

   ![The transmittance of Filter 3](/assets/images/dxc3000a/filter_3_transmittance.jpg){:width="512px"}
